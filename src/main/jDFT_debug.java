/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package main;

import com.google.gson.Gson;
import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import tools.array_operation;

/**
 *
 * @author agung
 */
public class jDFT_debug {

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) throws FileNotFoundException, IOException, InterruptedException, ClassNotFoundException {

        String data = "{\n" +
"	\"status\": \"bands\",\n" +
"	\"degauss_\": 0.02,\n" +
"	\"smar\": 0,\n" +
"	\"random\": 0,\n" +
"	\"usp\": 0.0,\n" +
"	\"celldm\": [10.2, 0.0, 0.0, 0.0],\n" +
"	\"ecutwfc\": 18.0,\n" +
"	\"ecutrho\": 72.0,\n" +
"	\"ibrav\": 2,\n" +
"	\"iband\": 6,\n" +
"	\"num_atom\": 1,\n" +
"	\"nat\": 2,\n" +
"	\"mix\": 0.7,\n" +
"	\"atom\": [\"Si\"],\n" +
"	\"upf_url\": [\"/home/agung/Documents/kkk/q-e-qe-6.6/pseudo/Si.pz-vbc.UPF\"],\n" +
"	\"usp_\": [0, 0],\n" +
"	\"pos\": [\n" +
"		[0.0, 0.0, 0.0],\n" +
"		[0.25, 0.25, 0.25]\n" +
"	],\n" +
"	\"atom_pos\": [0, 0],\n" +
"	\"weig\": [0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842, 0.013157894736842],\n" +
"	\"k_point\": [\n" +
"		[-1.0, 0.5, 0.0],\n" +
"		[-0.9667, 0.4833, 0.0],\n" +
"		[-0.9333, 0.4667, 0.0],\n" +
"		[-0.9, 0.45, 0.0],\n" +
"		[-0.8667, 0.4333, 0.0],\n" +
"		[-0.8333, 0.4167, 0.0],\n" +
"		[-0.8, 0.4, 0.0],\n" +
"		[-0.7667, 0.3833, 0.0],\n" +
"		[-0.7333, 0.3667, 0.0],\n" +
"		[-0.7, 0.35, 0.0],\n" +
"		[-0.6667, 0.3333, 0.0],\n" +
"		[-0.6333, 0.3167, 0.0],\n" +
"		[-0.6, 0.3, 0.0],\n" +
"		[-0.5667, 0.2833, 0.0],\n" +
"		[-0.5333, 0.2667, 0.0],\n" +
"		[-0.5, 0.25, 0.0],\n" +
"		[-0.4667, 0.2333, 0.0],\n" +
"		[-0.4333, 0.2167, 0.0],\n" +
"		[-0.4, 0.2, 0.0],\n" +
"		[-0.3667, 0.1833, 0.0],\n" +
"		[-0.3333, 0.1667, 0.0],\n" +
"		[-0.3, 0.15, 0.0],\n" +
"		[-0.2667, 0.1333, 0.0],\n" +
"		[-0.2333, 0.1167, 0.0],\n" +
"		[-0.2, 0.1, 0.0],\n" +
"		[-0.1667, 0.0833, 0.0],\n" +
"		[-0.1333, 0.0667, 0.0],\n" +
"		[-0.1, 0.05, 0.0],\n" +
"		[-0.0667, 0.0333, 0.0],\n" +
"		[-0.0333, 0.0167, 0.0],\n" +
"		[0.0, 0.0, 0.0],\n" +
"		[-0.0333, 0.0, 0.0],\n" +
"		[-0.0667, 0.0, 0.0],\n" +
"		[-0.1, 0.0, 0.0],\n" +
"		[-0.1333, 0.0, 0.0],\n" +
"		[-0.1667, 0.0, 0.0],\n" +
"		[-0.2, 0.0, 0.0],\n" +
"		[-0.2333, 0.0, 0.0],\n" +
"		[-0.2667, 0.0, 0.0],\n" +
"		[-0.3, 0.0, 0.0],\n" +
"		[-0.3333, 0.0, 0.0],\n" +
"		[-0.3667, 0.0, 0.0],\n" +
"		[-0.4, 0.0, 0.0],\n" +
"		[-0.4333, 0.0, 0.0],\n" +
"		[-0.4667, 0.0, 0.0],\n" +
"		[-0.5, 0.0, 0.0],\n" +
"		[-0.5333, 0.0, 0.0],\n" +
"		[-0.5667, 0.0, 0.0],\n" +
"		[-0.6, 0.0, 0.0],\n" +
"		[-0.6333, 0.0, 0.0],\n" +
"		[-0.6667, 0.0, 0.0],\n" +
"		[-0.7, 0.0, 0.0],\n" +
"		[-0.7333, 0.0, 0.0],\n" +
"		[-0.7667, 0.0, 0.0],\n" +
"		[-0.8, 0.0, 0.0],\n" +
"		[-0.8333, 0.0, 0.0],\n" +
"		[-0.8667, 0.0, 0.0],\n" +
"		[-0.9, 0.0, 0.0],\n" +
"		[-0.9333, 0.0, 0.0],\n" +
"		[-0.9667, 0.0, 0.0],\n" +
"		[-1.0, 0.0, 0.0],\n" +
"		[-1.0, 0.0167, 0.0],\n" +
"		[-1.0, 0.0333, 0.0],\n" +
"		[-1.0, 0.05, 0.0],\n" +
"		[-1.0, 0.0667, 0.0],\n" +
"		[-1.0, 0.0833, 0.0],\n" +
"		[-1.0, 0.1, 0.0],\n" +
"		[-1.0, 0.1167, 0.0],\n" +
"		[-1.0, 0.1333, 0.0],\n" +
"		[-1.0, 0.15, 0.0],\n" +
"		[-1.0, 0.1667, 0.0],\n" +
"		[-1.0, 0.1833, 0.0],\n" +
"		[-1.0, 0.2, 0.0],\n" +
"		[-1.0, 0.2167, 0.0],\n" +
"		[-1.0, 0.2333, 0.0],\n" +
"		[-1.0, 0.25, 0.0],\n" +
"		[-1.0, 0.2667, 0.0],\n" +
"		[-1.0, 0.2833, 0.0],\n" +
"		[-1.0, 0.3, 0.0],\n" +
"		[-1.0, 0.3167, 0.0],\n" +
"		[-1.0, 0.3333, 0.0],\n" +
"		[-1.0, 0.35, 0.0],\n" +
"		[-1.0, 0.3667, 0.0],\n" +
"		[-1.0, 0.3833, 0.0],\n" +
"		[-1.0, 0.4, 0.0],\n" +
"		[-1.0, 0.4167, 0.0],\n" +
"		[-1.0, 0.4333, 0.0],\n" +
"		[-1.0, 0.45, 0.0],\n" +
"		[-1.0, 0.4667, 0.0],\n" +
"		[-1.0, 0.4833, 0.0],\n" +
"		[-1.0, 0.5, 0.0],\n" +
"		[-0.9833, 0.5, 0.0167],\n" +
"		[-0.9667, 0.5, 0.0333],\n" +
"		[-0.95, 0.5, 0.05],\n" +
"		[-0.9333, 0.5, 0.0667],\n" +
"		[-0.9167, 0.5, 0.0833],\n" +
"		[-0.9, 0.5, 0.1],\n" +
"		[-0.8833, 0.5, 0.1167],\n" +
"		[-0.8667, 0.5, 0.1333],\n" +
"		[-0.85, 0.5, 0.15],\n" +
"		[-0.8333, 0.5, 0.1667],\n" +
"		[-0.8167, 0.5, 0.1833],\n" +
"		[-0.8, 0.5, 0.2],\n" +
"		[-0.7833, 0.5, 0.2167],\n" +
"		[-0.7667, 0.5, 0.2333],\n" +
"		[-0.75, 0.5, 0.25],\n" +
"		[-0.7333, 0.5, 0.2667],\n" +
"		[-0.7167, 0.5, 0.2833],\n" +
"		[-0.7, 0.5, 0.3],\n" +
"		[-0.6833, 0.5, 0.3167],\n" +
"		[-0.6667, 0.5, 0.3333],\n" +
"		[-0.65, 0.5, 0.35],\n" +
"		[-0.6333, 0.5, 0.3667],\n" +
"		[-0.6167, 0.5, 0.3833],\n" +
"		[-0.6, 0.5, 0.4],\n" +
"		[-0.5833, 0.5, 0.4167],\n" +
"		[-0.5667, 0.5, 0.4333],\n" +
"		[-0.55, 0.5, 0.45],\n" +
"		[-0.5333, 0.5, 0.4667],\n" +
"		[-0.5167, 0.5, 0.4833],\n" +
"		[-0.5, 0.5, 0.5],\n" +
"		[-0.4833, 0.4833, 0.4833],\n" +
"		[-0.4667, 0.4667, 0.4667],\n" +
"		[-0.45, 0.45, 0.45],\n" +
"		[-0.4333, 0.4333, 0.4333],\n" +
"		[-0.4167, 0.4167, 0.4167],\n" +
"		[-0.4, 0.4, 0.4],\n" +
"		[-0.3833, 0.3833, 0.3833],\n" +
"		[-0.3667, 0.3667, 0.3667],\n" +
"		[-0.35, 0.35, 0.35],\n" +
"		[-0.3333, 0.3333, 0.3333],\n" +
"		[-0.3167, 0.3167, 0.3167],\n" +
"		[-0.3, 0.3, 0.3],\n" +
"		[-0.2833, 0.2833, 0.2833],\n" +
"		[-0.2667, 0.2667, 0.2667],\n" +
"		[-0.25, 0.25, 0.25],\n" +
"		[-0.2333, 0.2333, 0.2333],\n" +
"		[-0.2167, 0.2167, 0.2167],\n" +
"		[-0.2, 0.2, 0.2],\n" +
"		[-0.1833, 0.1833, 0.1833],\n" +
"		[-0.1667, 0.1667, 0.1667],\n" +
"		[-0.15, 0.15, 0.15],\n" +
"		[-0.1333, 0.1333, 0.1333],\n" +
"		[-0.1167, 0.1167, 0.1167],\n" +
"		[-0.1, 0.1, 0.1],\n" +
"		[-0.0833, 0.0833, 0.0833],\n" +
"		[-0.0667, 0.0667, 0.0667],\n" +
"		[-0.05, 0.05, 0.05],\n" +
"		[-0.0333, 0.0333, 0.0333],\n" +
"		[-0.0167, 0.0167, 0.0167],\n" +
"		[0.0, 0.0, 0.0]\n" +
"	]\n" +
"}";

        Gson gson = new Gson();
        init_data init = gson.fromJson(data, init_data.class);
array_operation ao = new array_operation();

        double weig[] = ao.copy(init.weig);
        double k_point[][] = ao.copy(init.k_point);
        init.weig = new double[1];
        init.k_point = new double[1][];
        if (init.status.equals("scf")) {
            utama_gen ug = new utama_gen();
            ug.main(init);
        } else if (init.status.equals("bands")) {
            for (int i = 0; i < weig.length; i++) {
                init.weig[0] = weig[i];
                init.k_point[0] = k_point[i];
                utama_gen_band_ ug = new utama_gen_band_();
                ug.main(init);
            }

        }
    }

}
